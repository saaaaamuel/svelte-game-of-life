var we=Object.defineProperty;var Ie=(e,r,a)=>r in e?we(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a;var B=(e,r,a)=>Ie(e,typeof r!="symbol"?r+"":r,a);import"../chunks/CWj6FrbW.js";import{i as Ne}from"../chunks/BImaCPhV.js";import{a as Se,l as Te,o as xe,e as H,s as te}from"../chunks/24ZzrmsT.js";import{T as Me,a5 as ke,K as J,V as p,E as Ce,L as Le,h as l,a6 as he,a7 as Oe,a8 as Re,a9 as se,J as P,M as z,F as He,N as De,aa as be,U as me,ab as ze,ac as Q,R as ge,y as ne,ad as ie,ae as G,af as le,ag as ee,ah as $e,Q as qe,ai as Be,aj as Ve,ak as ae,al as Ge,G as Ue,C as Ye,am as pe,A as Ke,an as Fe,ao as Je,ap as Pe,aq as Qe,ar as Xe,as as We,at as Ze,e as D,au as je,p as ea,av as aa,aw as ra,l as ye,q as x,f as fe,t as oe,a as X,m as ta,n as V,o as $,ax as M,c as sa,ay as na}from"../chunks/Kc4zuz4I.js";function ue(e,r){return r}function ia(e,r,a,s){for(var t=[],n=r.length,f=0;f<n;f++)$e(r[f].e,t,!0);var c=n>0&&t.length===0&&a!==null;if(c){var E=a.parentNode;qe(E),E.append(a),s.clear(),k(e,r[0].prev,r[n-1].next)}Be(t,()=>{for(var h=0;h<n;h++){var _=r[h];c||(s.delete(_.k),k(e,_.prev,_.next)),Ve(_.e,!c)}})}function ve(e,r,a,s,t,n=null){var f=e,c={flags:r,items:new Map,first:null},E=(r&pe)!==0;if(E){var h=e;f=p?J(Ce(h)):h.appendChild(Me())}p&&Le();var _=null,S=!1,u=he(()=>{var d=a();return Ye(d)?d:d==null?[]:ge(d)});ke(()=>{var d=l(u),i=d.length;if(S&&i===0)return;S=i===0;let y=!1;if(p){var g=Oe(f)===Re;g!==(i===0)&&(f=se(),J(f),P(!1),y=!0)}if(p){for(var m=null,A,b=0;b<i;b++){if(z.nodeType===He&&z.data===De){f=z,y=!0,P(!1);break}var o=d[b],v=s(o,b);A=Ae(z,c,m,null,o,v,b,t,r,a),c.items.set(v,A),m=A}i>0&&J(se())}p||la(d,c,f,t,r,s,a),n!==null&&(i===0?_?be(_):_=me(()=>n(f)):_!==null&&ze(_,()=>{_=null})),y&&P(!0),l(u)}),p&&(f=z)}function la(e,r,a,s,t,n,f){var q,K,R,F;var c=(t&Fe)!==0,E=(t&(ae|ee))!==0,h=e.length,_=r.items,S=r.first,u=S,d,i=null,y,g=[],m=[],A,b,o,v;if(c)for(v=0;v<h;v+=1)A=e[v],b=n(A,v),o=_.get(b),o!==void 0&&((q=o.a)==null||q.measure(),(y??(y=new Set)).add(o));for(v=0;v<h;v+=1){if(A=e[v],b=n(A,v),o=_.get(b),o===void 0){var U=u?u.e.nodes_start:a;i=Ae(U,r,i,i===null?r.first:i.next,A,b,v,s,t,f),_.set(b,i),g=[],m=[],u=i.next;continue}if(E&&fa(o,A,v,t),(o.e.f&Q)!==0&&(be(o.e),c&&((K=o.a)==null||K.unfix(),(y??(y=new Set)).delete(o))),o!==u){if(d!==void 0&&d.has(o)){if(g.length<m.length){var C=m[0],w;i=C.prev;var N=g[0],L=g[g.length-1];for(w=0;w<g.length;w+=1)ce(g[w],C,a);for(w=0;w<m.length;w+=1)d.delete(m[w]);k(r,N.prev,L.next),k(r,i,N),k(r,L,C),u=C,i=L,v-=1,g=[],m=[]}else d.delete(o),ce(o,u,a),k(r,o.prev,o.next),k(r,o,i===null?r.first:i.next),k(r,i,o),i=o;continue}for(g=[],m=[];u!==null&&u.k!==b;)(u.e.f&Q)===0&&(d??(d=new Set)).add(u),m.push(u),u=u.next;if(u===null)continue;o=u}g.push(o),i=o,u=o.next}if(u!==null||d!==void 0){for(var I=d===void 0?[]:ge(d);u!==null;)(u.e.f&Q)===0&&I.push(u),u=u.next;var O=I.length;if(O>0){var Y=(t&pe)!==0&&h===0?a:null;if(c){for(v=0;v<O;v+=1)(R=I[v].a)==null||R.measure();for(v=0;v<O;v+=1)(F=I[v].a)==null||F.fix()}ia(r,I,Y,_)}}c&&Ke(()=>{var T;if(y!==void 0)for(o of y)(T=o.a)==null||T.apply()}),ne.first=r.first&&r.first.e,ne.last=i&&i.e}function fa(e,r,a,s){(s&ae)!==0&&ie(e.v,r),(s&ee)!==0?ie(e.i,a):e.i=a}function Ae(e,r,a,s,t,n,f,c,E,h){var _=(E&ae)!==0,S=(E&Ge)===0,u=_?S?G(t,!1,!1):le(t):t,d=(E&ee)===0?f:le(f),i={i:d,v:u,k:n,a:null,e:null,prev:a,next:s};try{return i.e=me(()=>c(e,u,d,h),p),i.e.prev=a&&a.e,i.e.next=s&&s.e,a===null?r.first=i:(a.next=i,a.e.next=i.e),s!==null&&(s.prev=i,s.e.prev=i.e),i}finally{}}function ce(e,r,a){for(var s=e.next?e.next.e.nodes_start:a,t=r?r.e.nodes_start:a,n=e.e.nodes_start;n!==s;){var f=Ue(n);t.before(n),n=f}}function k(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function oa(e,r,a){var s=e==null?"":""+e;return s===""?null:s}function ua(e,r){return e==null?null:String(e)}function va(e,r,a,s,t,n){var f=e.__className;if(p||f!==a||f===void 0){var c=oa(a);(!p||c!==e.getAttribute("class"))&&(c==null?e.removeAttribute("class"):e.className=c),e.__className=a}return n}function ca(e,r,a,s){var t=e.__style;if(p||t!==r){var n=ua(r);(!p||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=r}return s}const da=Symbol("is custom element"),_a=Symbol("is html");function ha(e){if(p){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var s=e.value;j(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var t=e.checked;j(e,"checked",null),e.checked=t}}};e.__on_r=a,Je(a),Se()}}function j(e,r,a,s){var t=ba(e);p&&(t[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||t[r]!==(t[r]=a)&&(r==="loading"&&(e[Pe]=a),a==null?e.removeAttribute(r):typeof a!="string"&&ma(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function ba(e){return e.__attributes??(e.__attributes={[da]:e.nodeName.includes("-"),[_a]:e.namespaceURI===Qe})}var de=new Map;function ma(e){var r=de.get(e.nodeName);if(r)return r;de.set(e.nodeName,r=[]);for(var a,s=e,t=Element.prototype;t!==s;){a=We(s);for(var n in a)a[n].set&&r.push(n);s=Xe(s)}return r}function ga(e,r,a=r){var s=Ze();Te(e,"input",t=>{var n=t?e.defaultValue:e.value;if(n=W(e)?Z(n):n,a(n),s&&n!==(n=r())){var f=e.selectionStart,c=e.selectionEnd;e.value=n??"",c!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(c,e.value.length))}}),(p&&e.defaultValue!==e.value||D(r)==null&&e.value)&&a(W(e)?Z(e.value):e.value),je(()=>{var t=r();W(e)&&t===Z(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function W(e){var r=e.type;return r==="number"||r==="range"}function Z(e){return e===""?null:+e}class pa{constructor(r,a){B(this,"width");B(this,"height");B(this,"board");this.width=r,this.height=a,this.board=new Array(r*a).fill(!1)}idx(r,a){return r+a*this.width}size(){return this.width*this.height}}class _e extends pa{neighbors(r,a){let s=0;for(let t=-1;t<=1;t++)for(let n=-1;n<=1;n++){if(n===0&&t===0)continue;const f=r+n,c=a+t;f>=0&&f<this.width&&c>=0&&c<this.height&&this.board[this.idx(f,c)]&&s++}return s}step(){this.board=this.board.map((r,a)=>{const s=a%this.width,t=Math.floor(a/this.width),n=this.board[a],f=this.neighbors(s,t);return n&&f===2||f===3})}randomize(r=.7){this.board=this.board.map(()=>Math.random()>r)}}var ya=ye('<div role="button" tabindex="0"></div>'),Aa=ye('<h1>Game Of Life</h1> <div class="controls"><button> </button> <button>Step</button> <button>Randomize</button> <button>Clear</button> <label>Speed: <input type="range" min="10" max="100" step="10"/> </label></div> <div class="grid-container"><div class="grid"></div></div>',1);function Ta(e,r){ea(r,!1);let a=G(new _e(60,60)),s=G(!1),t,n=G(10);function f(){l(a).randomize(),M(a,l(a))}function c(N){l(s)&&(clearInterval(t),t=setInterval(h,N))}function E(){M(s,!l(s)),l(s)?t=setInterval(h,l(n)):clearInterval(t)}function h(){l(a).step(),M(a,l(a))}function _(){l(a).randomize(),M(a,l(a))}function S(){M(s,!1),clearInterval(t),M(a,new _e(l(a).width,l(a).height))}function u(N,L){const I=l(a).idx(N,L);na(a,l(a).board[I]=!l(a).board[I]),M(a,l(a))}xe(()=>(f(),()=>clearInterval(t))),aa(()=>l(n),()=>{c(l(n))}),ra(),Ne();var d=Aa(),i=x(fe(d),2),y=V(i),g=V(y,!0);$(y);var m=x(y,2),A=x(m,2),b=x(A,2),o=x(b,2),v=x(V(o));ha(v);var U=x(v);$(o),$(i);var C=x(i,2),w=V(C);ve(w,5,()=>(l(a),D(()=>Array(l(a).height))),ue,(N,L,I)=>{var O=sa(),Y=fe(O);ve(Y,1,()=>(l(a),D(()=>Array(l(a).width))),ue,(q,K,R,F)=>{var T=ya();oe((re,Ee)=>{va(T,1,`cell ${re??""}`),j(T,"aria-pressed",Ee)},[()=>(l(a),D(()=>l(a).board[l(a).idx(R,I)]?"alive":"")),()=>(l(a),D(()=>l(a).board[l(a).idx(R,I)]))],he),H("click",T,()=>u(R,I)),H("keydown",T,re=>{}),X(q,T)}),X(N,O)}),$(w),$(C),oe(()=>{te(g,l(s)?"Stop":"Start"),m.disabled=l(s),te(U,` ${l(n)??""}ms`),ca(w,(l(a),D(()=>`--cols: ${l(a).width}`)))}),H("click",y,E),H("click",m,h),H("click",A,_),H("click",b,S),ga(v,()=>l(n),N=>M(n,N)),X(e,d),ta()}export{Ta as component};
